{"version":3,"sources":["../../src/controllers/master.controller.ts"],"sourcesContent":["import { NextFunction, Request, response, Response } from 'express';\nimport { User } from '@interfaces/users.interface';\nimport syncMasterData from '@/services/master.service';\nimport PGPool from '@/db_pool/pg_pool';\n\nclass MasterController {\n  public syncService = new syncMasterData();\n\n  public syncMasterData = async (req: Request, res: Response): Promise<void> => {\n    try {\n      const stationId = BigInt(req.params.id);\n      const [statusCode, masterData, message]: [number, Object, string] = await this.syncService.syncMasterData(stationId);\n\n      const response = { statusCode: statusCode, message: message };\n      if (statusCode == 200) {\n        response['data'] = masterData;\n      }\n\n      res.status(statusCode).json(response);\n    } catch (e) {\n      console.log(e);\n      res.status(400).json({ statusCode: 400, message: 'Bad Request' });\n    }\n  };\n}\n\nexport default MasterController;\n"],"names":["MasterController","syncService","syncMasterData","req","res","stationId","BigInt","params","id","statusCode","masterData","message","response","status","json","e","console","log"],"mappings":"AAAA;;;;+BA0BA,SAAgC;;aAAhC,QAAgC;;sDAxBL,4BAA2B;;;;;;AAGtD,IAAA,AAAMA,gBAAgB,GAAtB,MAAMA,gBAAgB;;QACpB,KAAOC,WAAW,GAAG,IAAIC,cAAc,QAAA,EAAE,AAAC,CAAA;QAE1C,KAAOA,cAAc,GAAG,OAAOC,GAAY,EAAEC,GAAa,GAAoB;YAC5E,IAAI;gBACF,MAAMC,SAAS,GAAGC,MAAM,CAACH,GAAG,CAACI,MAAM,CAACC,EAAE,CAAC,AAAC;gBACxC,MAAM,CAACC,UAAU,EAAEC,UAAU,EAAEC,OAAO,CAAC,GAA6B,MAAM,IAAI,CAACV,WAAW,CAACC,cAAc,CAACG,SAAS,CAAC,AAAC;gBAErH,MAAMO,QAAQ,GAAG;oBAAEH,UAAU,EAAEA,UAAU;oBAAEE,OAAO,EAAEA,OAAO;iBAAE,AAAC;gBAC9D,IAAIF,UAAU,IAAI,GAAG,EAAE;oBACrBG,QAAQ,CAAC,MAAM,CAAC,GAAGF,UAAU,CAAC;gBAChC,CAAC;gBAEDN,GAAG,CAACS,MAAM,CAACJ,UAAU,CAAC,CAACK,IAAI,CAACF,QAAQ,CAAC,CAAC;YACxC,EAAE,OAAOG,CAAC,EAAE;gBACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAAC;gBACfX,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;oBAAEL,UAAU,EAAE,GAAG;oBAAEE,OAAO,EAAE,aAAa;iBAAE,CAAC,CAAC;YACpE,CAAC;QACH,CAAC,AAAC,CAAA;;CACH;MAED,QAAgC,GAAjBX,gBAAgB"}